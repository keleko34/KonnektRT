var KonnektRT=function(){var k=function(){var l=require("fs"),k=require("querystring"),t=process.cwd().replace(/\\/g,"/")+"/app";require("path");var y=require("replacestream");require("stream");require("util");return function(){function n(a,d,b){if(0===a.url.indexOf("/component")){a.query||(a.query={});a.stringQuery=n.parseQuery(a.url);a.url=a.url.substring(0,a.url.indexOf("?"));b=0;for(var f=Object.keys(a.stringQuery),k=f.length;b<k;b++)a.query[f[b]]=a.stringQuery[f[b]];var c=a.url.replace("/component/",
""),m=a.query.env||"prod";b=a.query.debug;var u=a.query.edit,v=a.sessions?a.sessions.cms:!1;a="dev"!==m?"/build/"+m+"/"+c+(b?".js":".min.js"):".js";var w=t+"/components/"+c,p=t+"/components/"+c+"/"+("dev"===m?c+a:a),e,g=0,h=0;l.stat(p,function(a,b){!a&&b.isFile()&&("dev"===m?(h+=2,e=l.createReadStream(p),u&&v&&(h+=1,e.pipe(injectProperty(c,"k_cms")),x(w,c,function(a){g+=1})),e.pipe(injectProperty(c,"K_css")).pipe(injectProperty(c,"k_html"))):(e=l.createReadStream(p),u&&v&&(h+=1,e.pipe(injectProperty(c,
"k_cms")),x(w,c,function(a){g+=1;e.pipe(q(e,c,"k_cms","(function(){"+a+"\r\nreturn "+c+";\r\n}())"));g===h&&e.pipe(d)})),e.pipe(injectProperty(c,"K_css")).pipe(injectProperty(c,"k_html")),l.readFile(base+"/"+name+".html","utf8",function(a,b){g+=1;a||e.pipe(injectProperty(c,"k_html")).pipe(q(e,c,"k_html",'"'+b+'"'));g===h&&e.pipe(d)}),l.readFile(base+"/"+name+".css","utf8",function(a,b){g+=1;a||e.pipe(injectProperty(c,"k_css")).pipe(q(e,c,"k_css",'"'+b+'"'));g===h&&e.pipe(d)})));a&&"ENOENT"===a.code?
"dev"!==m?d.notFound?d.notFound(void 0,"You have not built the component "+c+" into environment "+m):r(d,404,"You have not built the component "+c+" into environment "+m):d.notFound?d.notFound(void 0,"There is no such component by the name "+c):r(d,404,"There is no such component by the name "+c):d.serverError?d.serverError():r(d,500,"Server error")})}else b()}function r(a,d,b){a.statusCode=d;a.statusMessage=b;a.write(b,"utf8");a.end()}function x(a,d,b){var f=0;l.readFile(a+"/cms/"+d+".js","utf8",
function(k,c){k?b("function "+d+"(){};"):(l.readFile(a+"/cms/"+d+".html","utf8",function(a,c){a?b("function "+d+"(){};"):(f+=1,2===f&&b(contetnMain))}),l.readFile(a+"/cms/"+d+".css","utf8",function(a,c){a?b("function "+d+"(){};"):(f+=1,2===f&&b(contetnMain))}))})}function q(a,d,b,f){return y(d+".prototype."+b+" = ''",d+".prototype."+b+" = "+f)}n.parseQuery=function(a){return k.parse(a.substring(a.indexOf("?")+1,a.length))};return n}}();"undefined"!==typeof window&&"undefined"!==typeof window.define&&
"undefined"!==typeof window.require?define([],function(){return k}):"undefined"!==typeof module&&(module.exports=k);return k}();
